$NetBSD$

--- pty.c.orig	Mon Apr  2 05:03:20 2007
+++ pty.c
@@ -15,12 +15,13 @@ extern void uerror (char * cmdname, valu
 #define HAS_OPENPTY 1
 #endif
 
-#ifdef __APPLE__
+#if defined(__APPLE__) || defined(__NetBSD__)
 #include <util.h>
 #define HAS_OPENPTY 1
 #endif
 
 #ifdef __FreeBSD__
+#include <sys/types.h>
 #include <libutil.h>
 #define HAS_OPENPTY 1
 #endif
