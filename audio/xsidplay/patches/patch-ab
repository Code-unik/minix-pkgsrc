$NetBSD: patch-ab,v 1.8 2005/12/07 18:59:26 joerg Exp $

--- src/songlendb/File.cpp.orig	2002-03-03 18:00:03.000000000 +0000
+++ src/songlendb/File.cpp
@@ -27,6 +27,9 @@
 #ifdef XSID_HAVE_NOTHROW
 #include <new>
 #endif
+#if defined (__DragonFly__)
+#include <string.h>
+#endif
 using namespace std;
 
 #include "File.h"
@@ -126,7 +129,7 @@ bool SongLengthFile::init(const char* fi
     streampos fileLen = myIn.tellg();
 #endif
 #ifdef XSID_HAVE_NOTHROW
-    pDB = new(std::nothrow) char[fileLen+1L];
+    pDB = new(std::nothrow) char[(size_t)fileLen+1L];
 #else
     pDB = new char[fileLen+1L];
 #endif
