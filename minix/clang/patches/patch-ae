$NetBSD$

--- lib/CodeGen/TargetLoweringObjectFileImpl.cpp.orig	Fri Feb 18 17:52:42 2011
+++ lib/CodeGen/TargetLoweringObjectFileImpl.cpp
@@ -381,6 +381,9 @@ SelectSectionForGlobal(const GlobalValue *GV, SectionK
 /// should be placed in.
 const MCSection *TargetLoweringObjectFileELF::
 getSectionForConstant(SectionKind Kind) const {
+#ifdef __minix
+  return DataSection;
+#else
   if (Kind.isMergeableConst4() && MergeableConst4Section)
     return MergeableConst4Section;
   if (Kind.isMergeableConst8() && MergeableConst8Section)
@@ -393,6 +396,7 @@ getSectionForConstant(SectionKind Kind) const {
   if (Kind.isReadOnlyWithRelLocal()) return DataRelROLocalSection;
   assert(Kind.isReadOnlyWithRel() && "Unknown section kind");
   return DataRelROSection;
+#endif
 }
 
 const MCExpr *TargetLoweringObjectFileELF::
