$NetBSD$

--- libgc/configure.in.orig	2005-05-19 15:24:22.000000000 +0200
+++ libgc/configure.in
@@ -84,7 +84,15 @@ case "$THREADS" in
 	AC_DEFINE(GC_LINUX_THREADS)
 	AC_DEFINE(_REENTRANT)
 	;;
-     *-*-aix*)
+	 *-*-netbsd*)
+	AC_DEFINE(GC_NETBSD_THREADS)
+	AC_DEFINE(_REENTRANT)
+	AC_DEFINE(THREAD_LOCAL_ALLOC)
+		if test "${enable_parallel_mark}" = yes; then
+			AC_DEFINE(PARALLEL_MARK)
+		fi
+	;;
+	*-*-aix*)
 	AC_DEFINE(GC_AIX_THREADS)
 	AC_DEFINE(_REENTRANT)
 	;;
