$NetBSD$

--- lib/Razor2/Client/Core.pm.orig	Tue Aug  5 20:07:53 2003
+++ lib/Razor2/Client/Core.pm
@@ -218,8 +218,10 @@ sub bootstrap_discovery {
         foreach $rr ($query->answer) { 
             my $pushed = 0;
             if ($rr->type eq "A") { 
-                push @list, $rr->address; 
-                $pushed = 1;
+                if ($rr->address =~ m/^(\d+\.\d+\.\d+\.\d+)$/) {
+                    push @list, $1; 
+                    $pushed = 1;
+                }
             } elsif ($rr->type eq "CNAME") { 
                 if ($rr->cname eq 'list.terminator') { 
                     pop @list if $pushed;
