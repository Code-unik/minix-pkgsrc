$NetBSD$

--- mbyte.c.orig	2008-05-10 07:47:57.000000000 +0000
+++ mbyte.c
@@ -496,6 +496,7 @@ int mutt_filter_unprintable (char **s)
     {
       k = 1;
       wc = replacement_char();
+      memset (&mbstate1, 0, sizeof (mbstate1));
     }
     if (!IsWPrint (wc))
       wc = '?';
