$NetBSD$

--- gsm/manager.c.orig	Wed Mar  7 20:20:48 2001
+++ gsm/manager.c
@@ -321,7 +321,7 @@
       if (restart_info)
 	g_free (restart_info);
 
-      if (errno)
+      if (pid < 0)
 	{
 	  if (strcmp (command, SmRestartCommand) || client->connection)
 	    {
