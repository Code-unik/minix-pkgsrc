$NetBSD$

--- Makefile.orig	2004-07-13 11:53:02.000000000 -0400
+++ Makefile	2005-03-10 07:22:54.970353000 -0500
@@ -88,5 +88,5 @@
 $(SUBMAKEDIRS):
 	@echo Processing $@
-	@if cd $@ && ! $(MAKE) -k $(MAKECMDGOALS) 2>&1; then \
-	   echo "$@ not complete. See log for details" >>../build.fail ; \
-	fi | tee -a build.log
+	@cd $@ &&  $(MAKE) -k $(MAKECMDGOALS) 2>&1 ||  \
+	   echo "$@ not complete. See log for details" >>../build.fail  \
+	| tee -a build.log
