$NetBSD$

--- sh.dol.c.orig	Wed Jul 25 16:48:04 2001
+++ sh.dol.c
@@ -585,10 +585,8 @@
 		c = DgetC(0);
 	    } while (Isdigit(c));
 	    unDredc(c);
-	    if (subscr < 0) {
-		dolerror(vp->v_name);
-		return;
-	    }
+	    if (subscr < 0)
+		stderror(ERR_RANGE);
 	    if (subscr == 0) {
 		if (bitset) {
 		    dolp = dolzero ? STR1 : STR0;
